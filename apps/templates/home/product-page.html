{% extends "layouts/base.html" %}

{% block title %} Product Page {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock %}

{% block body_class %} product-page bg-gray-200 {% endblock %}

{% block content %}

  {% include 'includes/navigation.html' %}

  <!-- -------- START HEADER 10 w/ floating img and bg  ------- -->
  <header class="position-relative">
    <div class="page-header min-vh-50 position-relative" style="background-image: url('/static/assets/img/bg6.jpg');" loading="lazy">
      <span class="mask bg-gradient-primary opacity-6"></span>
    </div>
  </header>
  <!-- -------- END HEADER 10 w/ floating img and bg  ------- -->

  <div class="card card-body blur shadow-blur mx-4 mx-md-5 mx-lg-10 mt-n9">
    <button class="btn btn-white ms-auto mt-n6 me-n3" type="button" name="button"><i class="material-icons me-2">shopping_cart</i>0 items</button>
    <div class="section my-4 my-lg-5">
      <div class="container">
        <div class="row flex-row">
          <div class="col-lg-5">
            <img class="w-80 border-radius-lg ms-2" src="/static/assets/img/examples/product2.png" alt="ladydady" loading="lazy">
            <div class="my-gallery d-flex mt-4 pt-2" itemscope itemtype="http://schema.org/ImageGallery">
              <figure itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
                <a href="/static/assets/img/examples/product3.png" itemprop="contentUrl" data-size="500x600">
                  <img class="w-100 min-height-100 max-height-100 border-radius-lg" src="/static/assets/img/examples/product3.png" alt="Image description" loading="lazy" />
                </a>
              </figure>
              <figure class="ms-3" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
                <a href="/static/assets/img/examples/product1.jpg" itemprop="contentUrl" data-size="500x600">
                  <img class="w-100 min-height-100 max-height-100 border-radius-lg" src="/static/assets/img/examples/product1.jpg" itemprop="thumbnail" alt="Image description" loading="lazy" />
                </a>
              </figure>
              <figure class="ms-3" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
                <a href="/static/assets/img/examples/product4.jpg" itemprop="contentUrl" data-size="500x600">
                  <img class="w-100 min-height-100 max-height-100 border-radius-lg" src="/static/assets/img/examples/product4.jpg" itemprop="thumbnail" alt="Image description" loading="lazy" />
                </a>
              </figure>
              <figure class="ms-3" itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
                <a href="/static/assets/img/examples/product2.png" itemprop="contentUrl" data-size="500x600">
                  <img class="w-100 min-height-100 max-height-100 border-radius-lg" src="/static/assets/img/examples/product2.png" itemprop="thumbnail" alt="Image description" loading="lazy" />
                </a>
              </figure>
            </div>
            <!-- Root element of PhotoSwipe. Must have class pswp. -->
            <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
              <!-- Background of PhotoSwipe. It's a separate element, as animating opacity is faster than rgba(). -->
              <div class="pswp__bg"></div>
              <!-- Slides wrapper with overflow:hidden. -->
              <div class="pswp__scroll-wrap">
                <!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. -->
                <!-- don't modify these 3 pswp__item elements, data is added later on. -->
                <div class="pswp__container">
                  <div class="pswp__item"></div>
                  <div class="pswp__item"></div>
                  <div class="pswp__item"></div>
                </div>
                <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
                <div class="pswp__ui pswp__ui--hidden">
                  <div class="pswp__top-bar">
                    <!--  Controls are self-explanatory. Order can be changed. -->
                    <div class="pswp__counter"></div>
                    <button class="btn btn-white btn-sm pswp__button pswp__button--close">Close (Esc)</button>
                    <button class="btn btn-white btn-sm pswp__button pswp__button--fs">Fullscreen</button>
                    <button class="btn btn-white btn-sm pswp__button pswp__button--arrow--left">Prev
                    </button>
                    <button class="btn btn-white btn-sm pswp__button pswp__button--arrow--right">Next
                    </button>
                    <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                    <!-- element will get class pswp__preloader--active when preloader is running -->
                    <div class="pswp__preloader">
                      <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                          <div class="pswp__preloader__donut"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                    <div class="pswp__share-tooltip"></div>
                  </div>
                  <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-7">
            <div>
              <h3 class="mt-lg-0 mt-4">Black Silk Suit</h3>
              <span class="badge badge-success">In Stock</span>
              <h6 class="mb-0 mt-2">Price</h6>
              <h5>$2,099</h5>
              <div class="accordion" id="accordionProduct">
                <div class="accordion-item mb-1">
                  <h6 class="accordion-header" id="headingOne">
                    <button class="accordion-button border-bottom font-weight-bold text-start" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      Description
                      <i class="collapse-close fa fa-plus text-xs pt-1 position-absolute end-0"></i>
                      <i class="collapse-open fa fa-minus text-xs pt-1 position-absolute end-0"></i>
                    </button>
                  </h6>
                  <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionProduct">
                    <div class="accordion-body text-sm opacity-8">
                      Eres' daring 'Grigri Fortune' swimsuit has the fit and coverage of a bikini in a one-piece silhouette. This fuchsia style is crafted from the label's sculpting peau douce fabric and has flattering cutouts through the torso and back. Wear
                      yours with mirrored sunglasses on vacation.
                    </div>
                  </div>
                </div>
                <div class="accordion-item mb-1">
                  <h6 class="accordion-header" id="headingTwo">
                    <button class="accordion-button border-bottom font-weight-bold text-start" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                      Designer Information
                      <i class="collapse-close fa fa-plus text-xs pt-1 position-absolute end-0"></i>
                      <i class="collapse-open fa fa-minus text-xs pt-1 position-absolute end-0"></i>
                    </button>
                  </h6>
                  <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionProduct">
                    <div class="accordion-body text-sm opacity-8">
                      An infusion of West Coast cool and New York attitude, Rebecca Minkoff is synonymous with It girl style. Minkoff burst on the fashion scene with her best-selling 'Morning After Bag' and later expanded her offering with the Rebecca Minkoff
                      Collection - a range of luxe city staples with a "downtown romantic" theme.
                    </div>
                  </div>
                </div>
                <div class="accordion-item mb-1">
                  <h6 class="accordion-header" id="headingThree">
                    <button class="accordion-button border-bottom font-weight-bold text-start" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                      Details and Care
                      <i class="collapse-close fa fa-plus text-xs pt-1 position-absolute end-0"></i>
                      <i class="collapse-open fa fa-minus text-xs pt-1 position-absolute end-0"></i>
                    </button>
                  </h6>
                  <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionProduct">
                    <div class="accordion-body text-sm opacity-8">
                      <ul>
                        <li>Storm and midnight-blue stretch cotton-blend</li>
                        <li>Notch lapels, functioning buttoned cuffs, two front flap pockets, single vent, internal pocket</li>
                        <li>Two button fastening</li>
                        <li>84% cotton, 14% nylon, 2% elastane</li>
                        <li>Dry clean</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row mt-5">
                <div class="col-lg-6 mt-lg-0 mt-2">
                  <label class="ms-0">Select Color</label>
                  <select class="form-control" name="choices-material" id="choices-material">
                    <option value="Choice 1" selected>Black</option>
                    <option value="Choice 2">Blue</option>
                    <option value="Choice 3">Gray</option>
                    <option value="Choice 4">Brown</option>
                  </select>
                </div>
                <div class="col-lg-6 mt-lg-0 mt-2">
                  <label class="ms-0">Select Size</label>
                  <select class="form-control" name="choices-colors" id="choices-colors">
                    <option value="Choice 1" selected>Small</option>
                    <option value="Choice 2">Extra Small</option>
                    <option value="Choice 3">Medium</option>
                    <option value="Choice 4">Large</option>
                    <option value="Choice 5">XXL</option>
                  </select>
                </div>
              </div>
              <div class="row mt-4">
                <div class="col-lg-4 ms-auto">
                  <button class="btn bg-gradient-primary mb-0 mt-lg-auto w-100" type="button" name="button">Add to cart</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- -------- START Features w/ 4 infos - just colored icons -------- -->
  <section class="py-md-7 pb-5">
    <div class="container">
      <div class="row text-center">
        <div class="col-lg-4 col-md-6">
          <div class="info">
            <div class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4">
              <i class="material-icons opacity-10">local_shipping</i>
            </div>
            <h5 class="mt-4">24h Delivery</h5>
            <p>Divide details about your product or agency work into parts. Write a few lines about each one. A paragraph describing a feature will be enough.</p>
          </div>
        </div>
        <div class="col-lg-4 col-md-6">
          <div class="info">
            <div class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4">
              <i class="material-icons opacity-10">verified_user</i>
            </div>
            <h5 class="mt-4">Refundable Policy</h5>
            <p>It really matters and then like it really doesn’t matter. What matters is the people who are sparked by it. And the people who are like offended by it.</p>
          </div>
        </div>
        <div class="col-lg-4 col-md-6">
          <div class="info">
            <div class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4">
              <i class="material-icons opacity-10">favorite</i>
            </div>
            <h5 class="mt-4">Popular Item</h5>
            <p>That’s what I’m here for. Don’t be afraid to be wrong because you can’t learn anything from a compliment. Why would anyone pick blue over pink? </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- -------- END Features w/ 4 infos - just colored icons -------- -->

  <section class="py-5">
    <div class="container">
      <h3 class="text-center">You may also be interested in:</h3>
      <div class="row mt-7">
        <div class="col-6 col-lg-3">
          <div class="card mb-5 mb-lg-0">
            <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
              <a class="d-block blur-shadow-image">
                <img src="/static/assets/img/examples/card-product1.jpg" alt="img-blur-shadow" class="img-fluid border-radius-lg" loading="lazy">
              </a>
            </div>
            <div class="card-body text-center">
              <p class="mb-0 text-primary text-uppercase font-weight-normal text-sm">Trending</p>
              <h5 class="font-weight-bold mt-3">
                <a href="javascript:;">Dolce & Gabbana</a>
              </h5>
              <p class="mb-0">
                Dolce & Gabbana's 'Greta' tote has been crafted in Italy from hard-wearing red textured-leather.
              </p>
            </div>
            <div class="card-footer d-flex pt-0">
              <p class="font-weight-normal my-auto">$1,549</p>
              <i class="material-icons position-relative ms-auto text-primary text-lg me-1 my-auto" data-bs-toggle="tooltip" data-bs-placement="top" title="Saved to Wishlist">favorite</i>
            </div>
          </div>
        </div>
        <div class="col-6 col-lg-3">
          <div class="card mb-5 mb-lg-0">
            <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
              <a class="d-block blur-shadow-image">
                <img src="/static/assets/img/examples/card-product3.jpg" alt="img-blur-shadow" class="img-fluid border-radius-lg" loading="lazy">
              </a>
            </div>
            <div class="card-body text-center">
              <p class="mb-0 text-dark text-uppercase font-weight-normal text-sm">Popular</p>
              <h5 class="font-weight-bold mt-3">
                <a href="javascript:;">Balmain</a>
              </h5>
              <p class="mb-0">
                Balmain's mid-rise skinny jeans are cut with stretch to ensure they retain skin fit but move comfortably.
              </p>
            </div>
            <div class="card-footer d-flex pt-0">
              <p class="font-weight-normal my-auto">$459</p>
              <i class="material-icons position-relative ms-auto text-dark text-lg me-1 my-auto" data-bs-toggle="tooltip" data-bs-placement="top" title="Save to Wishlist">favorite</i>
            </div>
          </div>
        </div>
        <div class="col-6 col-lg-3">
          <div class="card">
            <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
              <a class="d-block blur-shadow-image">
                <img src="/static/assets/img/examples/card-product4.jpg" alt="img-blur-shadow" class="img-fluid border-radius-lg" loading="lazy">
              </a>
            </div>
            <div class="card-body text-center">
              <p class="mb-0 text-dark text-uppercase font-weight-normal text-sm">Popular</p>
              <h5 class="font-weight-bold mt-3">
                <a href="javascript:;">Balenciaga</a>
              </h5>
              <p class="mb-0">
                Balenciaga's black textured-leather wallet is finished with the label's iconic 'Giant' studs.
              </p>
            </div>
            <div class="card-footer d-flex pt-0">
              <p class="font-weight-normal my-auto">$890</p>
              <i class="material-icons position-relative ms-auto text-primary text-lg me-1 my-auto" data-bs-toggle="tooltip" data-bs-placement="top" title="Saved to Wishlist">favorite</i>
            </div>
          </div>
        </div>
        <div class="col-6 col-lg-3">
          <div class="card">
            <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
              <a class="d-block blur-shadow-image">
                <img src="/static/assets/img/examples/card-product2.jpg" alt="img-blur-shadow" class="img-fluid border-radius-lg" loading="lazy">
              </a>
            </div>
            <div class="card-body text-center">
              <p class="mb-0 text-primary text-uppercase font-weight-normal text-sm">Trending</p>
              <h5 class="font-weight-bold mt-3">
                <a href="javascript:;">Burberry</a>
              </h5>
              <p class="mb-0">
                Burberry's black textured-cottom bomber is finished with the label's iconic 'Weareable' jacket.
              </p>
            </div>
            <div class="card-footer d-flex pt-0">
              <p class="font-weight-normal my-auto">$890</p>
              <i class="material-icons position-relative ms-auto text-dark text-lg me-1 my-auto" data-bs-toggle="tooltip" data-bs-placement="top" title="Save to Wishlist">favorite</i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  {% include 'includes/footer.html' %}

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <script src="/static/assets/js/plugins/photoswipe.min.js"></script>
  <script src="/static/assets/js/plugins/photoswipe-ui-default.min.js"></script>
  <script>
    if (document.getElementById('choices-quantity')) {
      var element = document.getElementById('choices-quantity');
      const example = new Choices(element, {
        searchEnabled: false,
        itemSelectText: ''
      });
    };

    if (document.getElementById('choices-material')) {
      var element = document.getElementById('choices-material');
      const example = new Choices(element, {
        searchEnabled: false,
        itemSelectText: ''
      });
    };

    if (document.getElementById('choices-colors')) {
      var element = document.getElementById('choices-colors');
      const example = new Choices(element, {
        searchEnabled: false,
        itemSelectText: ''
      });
    };

    // Gallery Carousel
    if (document.getElementById('products-carousel')) {
      var myCarousel = document.querySelector('#products-carousel')
      var carousel = new bootstrap.Carousel(myCarousel)
    }


    // Products gallery

    var initPhotoSwipeFromDOM = function(gallerySelector) {

      // parse slide data (url, title, size ...) from DOM elements
      // (children of gallerySelector)
      var parseThumbnailElements = function(el) {
        var thumbElements = el.childNodes,
          numNodes = thumbElements.length,
          items = [],
          figureEl,
          linkEl,
          size,
          item;

        for (var i = 0; i < numNodes; i++) {

          figureEl = thumbElements[i]; // <figure> element
          // include only element nodes
          if (figureEl.nodeType !== 1) {
            continue;
          }

          linkEl = figureEl.children[0]; // <a> element

          size = linkEl.getAttribute('data-size').split('x');

          // create slide object
          item = {
            src: linkEl.getAttribute('href'),
            w: parseInt(size[0], 10),
            h: parseInt(size[1], 10)
          };

          if (figureEl.children.length > 1) {
            // <figcaption> content
            item.title = figureEl.children[1].innerHTML;
          }

          if (linkEl.children.length > 0) {
            // <img> thumbnail element, retrieving thumbnail url
            item.msrc = linkEl.children[0].getAttribute('src');
          }

          item.el = figureEl; // save link to element for getThumbBoundsFn
          items.push(item);
        }

        return items;
      };

      // find nearest parent element
      var closest = function closest(el, fn) {
        return el && (fn(el) ? el : closest(el.parentNode, fn));
      };

      // triggers when user clicks on thumbnail
      var onThumbnailsClick = function(e) {
        e = e || window.event;
        e.preventDefault ? e.preventDefault() : e.returnValue = false;

        var eTarget = e.target || e.srcElement;

        // find root element of slide
        var clickedListItem = closest(eTarget, function(el) {
          return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
        });

        if (!clickedListItem) {
          return;
        }

        // find index of clicked item by looping through all child nodes
        // alternatively, you may define index via data- attribute
        var clickedGallery = clickedListItem.parentNode,
          childNodes = clickedListItem.parentNode.childNodes,
          numChildNodes = childNodes.length,
          nodeIndex = 0,
          index;

        for (var i = 0; i < numChildNodes; i++) {
          if (childNodes[i].nodeType !== 1) {
            continue;
          }

          if (childNodes[i] === clickedListItem) {
            index = nodeIndex;
            break;
          }
          nodeIndex++;
        }



        if (index >= 0) {
          // open PhotoSwipe if valid index found
          openPhotoSwipe(index, clickedGallery);
        }
        return false;
      };

      // parse picture index and gallery index from URL (#&pid=1&gid=2)
      var photoswipeParseHash = function() {
        var hash = window.location.hash.substring(1),
          params = {};

        if (hash.length < 5) {
          return params;
        }

        var vars = hash.split('&');
        for (var i = 0; i < vars.length; i++) {
          if (!vars[i]) {
            continue;
          }
          var pair = vars[i].split('=');
          if (pair.length < 2) {
            continue;
          }
          params[pair[0]] = pair[1];
        }

        if (params.gid) {
          params.gid = parseInt(params.gid, 10);
        }

        return params;
      };

      var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
        var pswpElement = document.querySelectorAll('.pswp')[0],
          gallery,
          options,
          items;

        items = parseThumbnailElements(galleryElement);

        // define options (if needed)
        options = {

          // define gallery index (for URL)
          galleryUID: galleryElement.getAttribute('data-pswp-uid'),

          getThumbBoundsFn: function(index) {
            // See Options -> getThumbBoundsFn section of documentation for more info
            var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
              pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
              rect = thumbnail.getBoundingClientRect();

            return {
              x: rect.left,
              y: rect.top + pageYScroll,
              w: rect.width
            };
          }

        };

        // PhotoSwipe opened from URL
        if (fromURL) {
          if (options.galleryPIDs) {
            // parse real index when custom PIDs are used
            // http://photoswipe.com/documentation/faq.html#custom-pid-in-url
            for (var j = 0; j < items.length; j++) {
              if (items[j].pid == index) {
                options.index = j;
                break;
              }
            }
          } else {
            // in URL indexes start from 1
            options.index = parseInt(index, 10) - 1;
          }
        } else {
          options.index = parseInt(index, 10);
        }

        // exit if index not found
        if (isNaN(options.index)) {
          return;
        }

        if (disableAnimation) {
          options.showAnimationDuration = 0;
        }

        // Pass data to PhotoSwipe and initialize it
        gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);
        gallery.init();
      };

      // loop through all gallery elements and bind events
      var galleryElements = document.querySelectorAll(gallerySelector);

      for (var i = 0, l = galleryElements.length; i < l; i++) {
        galleryElements[i].setAttribute('data-pswp-uid', i + 1);
        galleryElements[i].onclick = onThumbnailsClick;
      }

      // Parse URL and open gallery if it contains #&pid=3&gid=1
      var hashData = photoswipeParseHash();
      if (hashData.pid && hashData.gid) {
        openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);
      }
    };

    // execute above function
    initPhotoSwipeFromDOM('.my-gallery');
  </script>

{% endblock %}
